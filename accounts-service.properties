server.port=8080

accounts-service.msg=Welcome to the Accounts service
accounts-service.build-version=2

accounts-service.mailDetails.hostName=accounts-service@avalc.com
accounts-service.mailDetails.port=8080
accounts-service.mailDetails.from=accounts-service@avalc.com
accounts-service.mailDetails.subject=Your Account Details

#circuit breaker properties
resilience4j.circuitbreaker.configs.default.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.detailsForCustomerSupportApp.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.detailsForCustomerSupportApp.failureRateThreshold=50
resilience4j.circuitbreaker.instances.detailsForCustomerSupportApp.waitDurationInOpenState=30000
resilience4j.circuitbreaker.instances.detailsForCustomerSupportApp.permittedNumberOfCallsInHalfOpenState=2

#rate limiter properties
resilience4j.ratelimiter.configs.default.registerHealthIndicator=true
resilience4j.ratelimiter.instances.accountsControllerRateLimiter.timeoutDuration=3000
resilience4j.ratelimiter.instances.accountsControllerRateLimiter.limitRefreshPeriod=5000
resilience4j.ratelimiter.instances.accountsControllerRateLimiter.limitForPeriod=10

#https://habr.com/ru/articles/719934/
feign.oauth2.enabled=true
feign.oauth2.clientRegistrationId=keycloak

spring.security.oauth2.client.registration.keycloak.client-id=bankapp-callcenter
spring.security.oauth2.client.registration.keycloak.client-secret={cipher}ee03a90cd4eea8653310476d8a874e89bdda1205e136cd9e4e6b0d282663ddf2a9679abcc8d28d07737719b07946c849cff057af82a6910f556bb3c6942722f1
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=client_credentials
spring.security.oauth2.client.registration.keycloak.provider=keycloak

spring.security.oauth2.client.provider.keycloak.tokenUri=http://localhost:7080/realms/master/protocol/openid-connect/token
